# 개발일지: 화제 종목 TOP 3 비교 기능 추가

## 작성시각
2025년 12월 12일

## 해결하고자 한 문제
대시보드에서 화제 종목 TOP 3를 한눈에 비교할 수 있는 기능이 필요했습니다. 사용자가 1위, 2위, 3위 종목을 나란히 비교하여 주가, 변동률, 거래량 등을 쉽게 확인하고, 각 종목의 상세 정보를 볼 수 있도록 하고 싶었습니다.

## 해결된 것

### 1. TOP 3 비교 컴포넌트 생성
- `components/TopStocksComparison.tsx` 컴포넌트를 생성했습니다
- 3개의 카드를 나란히 배치하여 TOP 3 종목을 비교할 수 있도록 구현했습니다
- 반응형 디자인으로 모바일에서는 1열, 태블릿/데스크톱에서는 3열로 표시됩니다

### 2. 순위 뱃지 표시
- 각 카드에 순위 뱃지를 표시했습니다
- 1위: 금메달 아이콘 (🥇) + 노란색 배경
- 2위: 은메달 아이콘 (🥈) + 회색 배경
- 3위: 동메달 아이콘 (🥉) + 주황색 배경
- 뱃지는 카드 우측 상단에 위치합니다

### 3. 비교 항목 표시
- 각 카드에 다음 비교 항목을 표시합니다:
  - **주가**: 현재 주가를 통화 형식으로 표시
  - **변동률**: 상승/하락에 따라 녹색/빨간색으로 표시
  - **거래량**: 숫자를 읽기 쉬운 형식으로 표시 (K, M, B 단위)

### 4. 호버 시 상세 정보 툴팁
- 카드에 마우스를 올리면 상세 정보 툴팁이 표시됩니다
- 툴팁에 표시되는 정보:
  - 시가총액
  - 화제도 점수
  - 변동액
  - 선정 기준 (거래량 상위, 상승률 상위 등)
  - "클릭하여 상세 정보 보기" 안내 메시지
- 툴팁은 카드 위쪽에 표시되며, 다크 테마로 디자인되었습니다

### 5. 클릭 시 종목 상세 페이지로 이동
- 각 카드를 클릭하면 해당 종목의 상세 페이지로 이동합니다
- `pages/stocks/[symbol].tsx` 페이지를 생성했습니다
- 상세 페이지에는 다음 정보가 표시됩니다:
  - 종목명 및 심볼
  - 주요 정보 (주가, 변동, 거래량, 시가총액, 화제도 점수)
  - 최근 5일 주가 추이 차트
  - 선정 기준

### 6. 대시보드 통합
- `pages/index.tsx`에 "화제 종목 TOP 3 비교" 섹션을 추가했습니다
- 기존 "오늘의 화제 종목" 섹션 위에 배치하여 먼저 보이도록 했습니다
- `lib/mockData.ts`에 `getTop3TrendingStocks()` 함수를 추가했습니다

### 7. 유틸리티 함수 추가
- `lib/mockData.ts`에 다음 함수들을 추가했습니다:
  - `getTop3TrendingStocks()`: TOP 3 종목을 반환하는 함수
  - `getStockBySymbol(symbol)`: 심볼로 종목을 찾는 함수

### 8. Button 컴포넌트 타입 수정
- `components/Button.tsx`의 타입 정의를 수정하여 TypeScript 에러를 해결했습니다
- `children` prop을 명시적으로 정의했습니다

## 해결되지 않은 것

### 1. 실제 데이터 연동
- 현재는 목업 데이터만 사용하고 있습니다
- 향후 실제 API에서 가져온 데이터를 사용해야 합니다

### 2. 차트 비교 기능
- 현재는 각 종목의 상세 페이지에서만 차트를 볼 수 있습니다
- 향후 TOP 3 종목의 차트를 한 화면에서 비교할 수 있는 기능이 필요합니다

### 3. 정렬 옵션
- 현재는 화제도 점수 순으로 정렬되어 있습니다
- 향후 사용자가 주가, 변동률, 거래량 등으로 정렬할 수 있는 기능이 필요합니다

### 4. 필터링 기능
- 현재는 TOP 3만 표시됩니다
- 향후 사용자가 원하는 조건으로 필터링할 수 있는 기능이 필요합니다

### 5. 애니메이션 효과
- 호버 시 툴팁이 나타나는 애니메이션은 있지만, 카드 자체의 애니메이션은 기본적인 것만 있습니다
- 향후 더 부드러운 애니메이션 효과를 추가할 수 있습니다

## 향후 개발을 위한 컨텍스트

### 파일 구조
```
components/
├── TopStocksComparison.tsx  # TOP 3 비교 컴포넌트 (새로 생성)
└── Button.tsx                # Button 컴포넌트 (타입 수정)

pages/
├── index.tsx                 # 대시보드 (TOP 3 비교 섹션 추가)
└── stocks/
    └── [symbol].tsx         # 종목 상세 페이지 (새로 생성)

lib/
└── mockData.ts              # 유틸리티 함수 추가
```

### 컴포넌트 구조

#### TopStocksComparison 컴포넌트
```typescript
interface TopStocksComparisonProps {
  stocks: Stock[];  // 최대 3개의 종목 배열
}
```

주요 기능:
- 순위 뱃지 표시 (1위, 2위, 3위)
- 비교 항목 표시 (주가, 변동률, 거래량)
- 호버 시 상세 정보 툴팁
- 클릭 시 종목 상세 페이지로 이동

#### 종목 상세 페이지 (`/stocks/[symbol]`)
- 동적 라우팅을 사용하여 종목 심볼로 접근
- 종목의 모든 정보를 상세하게 표시
- 주가 차트 포함

### 스타일링
- 다크 테마 유지
- 상승/하락 색상 (녹색/빨간색) 적용
- 호버 효과 및 트랜지션 애니메이션
- 반응형 디자인 (모바일, 태블릿, 데스크톱)

### 색상 규칙
- **1위 뱃지**: 노란색 배경 (`bg-yellow-500`)
- **2위 뱃지**: 회색 배경 (`bg-gray-400`)
- **3위 뱃지**: 주황색 배경 (`bg-orange-600`)
- **상승**: 녹색 (`text-stock-up`, `#10b981`)
- **하락**: 빨간색 (`text-stock-down`, `#ef4444`)

### 사용자 경험
1. **비교**: TOP 3 종목을 한눈에 비교할 수 있습니다
2. **상세 정보**: 호버 시 추가 정보를 확인할 수 있습니다
3. **상세 페이지**: 클릭하여 더 자세한 정보를 볼 수 있습니다
4. **직관적**: 순위 뱃지와 색상으로 쉽게 구분할 수 있습니다

### 다음 단계
1. **실제 데이터 연동** (최우선)
   - API에서 실제 종목 데이터 가져오기
   - 실시간 데이터 업데이트

2. **차트 비교 기능**
   - TOP 3 종목의 차트를 한 화면에서 비교
   - 여러 종목의 주가 추이를 동시에 확인

3. **정렬 및 필터링**
   - 사용자가 원하는 기준으로 정렬
   - 조건에 따른 필터링

4. **성능 최적화**
   - 많은 데이터를 효율적으로 처리
   - 렌더링 속도 개선

5. **접근성 개선**
   - 키보드 네비게이션 지원
   - 스크린 리더 지원

### 참고사항
- TOP 3 비교 컴포넌트는 최대 3개의 종목만 표시합니다
- 종목 상세 페이지는 동적 라우팅을 사용합니다 (`/stocks/[symbol]`)
- 호버 툴팁은 절대 위치로 배치되어 다른 요소와 겹치지 않습니다
- 모든 컴포넌트는 반응형으로 구현되어 있습니다

### 쉽게 설명하면
TOP 3 비교 기능은 마치 "시상대"와 같습니다:
- **1위, 2위, 3위**를 나란히 배치하여 비교할 수 있습니다
- 각 종목의 **주가, 변동률, 거래량**을 쉽게 비교할 수 있습니다
- 마우스를 올리면 **더 자세한 정보**를 볼 수 있습니다
- 클릭하면 **상세 페이지**로 이동하여 차트 등 더 많은 정보를 볼 수 있습니다

이제 사용자는 화제 종목 TOP 3를 한눈에 비교하고, 원하는 종목의 상세 정보를 쉽게 확인할 수 있습니다!




