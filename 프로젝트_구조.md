# 당신이 잠든 사이 - 프로젝트 구조

**최종 업데이트**: 2025-12-17  
**버전**: 1.0.0

---

## 📁 프로젝트 디렉토리 구조

```
ica-project/
│
├── 📁 docs/                          # 📚 프로젝트 문서
│   ├── 📁 01_기획/                   # 서비스 기획 및 설계
│   │   ├── 서비스기획서_당신이잠든사이.md
│   │   ├── 화제종목_선정_설계서.md
│   │   └── 목표_워크플로우_학습정리.md
│   │
│   ├── 📁 02_개발가이드/             # 개발 및 실행 가이드
│   │   ├── QUICK_START.md           # 빠른 시작 가이드
│   │   ├── QUICK_START_개선.md      # 개선된 시작 가이드
│   │   ├── 실행가이드.md
│   │   ├── REST_API_명세서.md       # API 명세
│   │   ├── Node.js_설치확인가이드.md
│   │   └── README_개선.md
│   │
│   ├── 📁 03_설정및연동/             # 환경 설정 및 외부 연동
│   │   ├── Claude_Pro_인증_완료_보고서.md
│   │   ├── MCP_연동_완료_보고서.md
│   │   └── project-rules.md         # 프로젝트 규칙
│   │
│   └── 📁 04_보고서/                 # 테스트 및 점검 보고서
│       ├── 테스트_결과_보고서.md
│       ├── 프로젝트_점검_보고서.md
│       ├── 버그_리포트.md
│       └── 작업_완료_안내.md
│
├── 📁 개발일지/                      # ⏰ 시간순 개발 기록
│   ├── 📁 2024/
│   │   └── 📁 01/
│   │       └── 📁 15/                # 2024-01-15
│   │           ├── 2024-01-15_Gemini_API통합.md
│   │           ├── 2024-01-15_yfinance통합.md
│   │           ├── 2024-01-15_yahooquery통합.md
│   │           ├── 2024-01-15_대시보드개발.md
│   │           ├── 2024-01-15_주가차트추가.md
│   │           ├── 2024-01-15_자동화워크플로우구현.md
│   │           └── 2024-01-15_app.tsx개선.md
│   │
│   ├── 📁 2025/
│   │   └── 📁 12/
│   │       ├── 📁 12/                # 2025-12-12
│   │       │   ├── 2025-12-12_다크라이트모드전환기능추가.md
│   │       │   ├── 2025-12-12_화제종목TOP3비교기능추가.md
│   │       │   ├── 2025-12-12_대시보드주가차트확인및개선.md
│   │       │   ├── 2025-12-12_API명세서가독성개선.md
│   │       │   └── 2025-12-12_오류수정및개선보고.md
│   │       │
│   │       ├── 📁 15/                # 2025-12-15
│   │       │   ├── 2025-12-15_Claude_Code_MCP_설정.md
│   │       │   └── 2025-12-15_프로젝트전체점검및최신화.md
│   │       │
│   │       ├── 📁 16/                # 2025-12-16
│   │       │   ├── 2025-12-16_Exa_MCP_연동.md
│   │       │   └── 2025-12-16_MCP_연동_완료.md
│   │       │
│   │       └── 📁 17/                # 2025-12-17
│   │           ├── 2025-12-17_Claude_Code_Pro계정_전환.md
│   │           └── 2025-12-17_버그_수정_및_테스트.md
│   │
│   └── TEMPLATE_개발일지.md          # 개발일지 템플릿
│
├── 📁 backend/                       # 🔧 백엔드 (Python FastAPI)
│   ├── 📁 routers/                   # API 라우터
│   │   ├── __init__.py
│   │   ├── auth.py                  # 인증 라우터
│   │   ├── stocks.py                # 주식 데이터 라우터
│   │   └── briefings.py             # 브리핑 라우터
│   │
│   ├── 📁 models/                    # 데이터 모델
│   │   ├── __init__.py
│   │   └── schemas.py               # Pydantic 스키마
│   │
│   ├── 📁 mcp_servers/               # MCP 서버
│   │   ├── stocks_server.py         # 화제 종목 MCP 서버
│   │   ├── briefing_server.py       # 브리핑 MCP 서버
│   │   ├── claude_desktop_config.json
│   │   ├── mcp_config.json
│   │   ├── README_MCP.md
│   │   ├── MCP_SETUP_완료.md
│   │   ├── setup_claude_desktop.bat
│   │   └── test_*.py                # MCP 테스트 파일들
│   │
│   ├── 📁 output/                    # 생성된 브리핑 저장
│   │
│   ├── main.py                      # FastAPI 메인 애플리케이션
│   ├── scheduler.py                 # APScheduler 스케줄러
│   ├── daily_briefing_workflow.py   # 자동 브리핑 워크플로우
│   │
│   ├── get_trending_stocks.py      # 화제 종목 수집
│   ├── yfinance_stocks.py          # Yahoo Finance 연동
│   ├── exa_news.py                 # Exa 뉴스 검색
│   ├── gemini_briefing.py          # Gemini AI 브리핑 생성
│   ├── send_briefing.py            # 브리핑 전송
│   │
│   ├── requirements.txt            # Python 패키지 목록
│   ├── requirements_fastapi.txt    # FastAPI 전용 패키지
│   ├── start_server.bat            # Windows 서버 시작
│   ├── start_server.sh             # Linux/Mac 서버 시작
│   │
│   ├── SETUP_GUIDE.md              # 백엔드 설정 가이드
│   ├── FASTAPI_ROUTER_가이드.md
│   ├── README.md
│   ├── README_exa.md
│   ├── README_gemini.md
│   ├── README_yfinance.md
│   └── README_FASTAPI.md
│
├── 📁 pages/                         # 🎨 Next.js 페이지
│   ├── _app.tsx                     # Next.js 앱 설정
│   ├── index.tsx                    # 메인 대시보드
│   ├── 📁 stocks/
│   │   └── [symbol].tsx             # 종목 상세 페이지
│   └── 📁 briefings/
│       └── [id].tsx                 # 브리핑 상세 페이지
│
├── 📁 components/                    # ⚛️ React 컴포넌트
│   ├── Layout.tsx                   # 레이아웃 컴포넌트
│   ├── StockCard.tsx                # 종목 카드
│   ├── StockChart.tsx               # 주가 차트
│   ├── BriefingCard.tsx             # 브리핑 카드
│   ├── TopStocksComparison.tsx      # TOP3 종목 비교
│   ├── ThemeToggle.tsx              # 다크/라이트 모드 전환
│   └── Button.tsx                   # 공통 버튼
│
├── 📁 contexts/                      # 🔄 React Context
│   └── ThemeContext.tsx             # 테마 Context
│
├── 📁 styles/                        # 💅 스타일
│   └── globals.css                  # 전역 CSS
│
├── 📁 types/                         # 📝 TypeScript 타입
│   └── global.d.ts                  # 전역 타입 정의
│
├── 📁 lib/                           # 🔧 유틸리티
│   └── mockData.ts                  # 목 데이터
│
├── 📁 archive/                       # 📦 아카이브 (구버전, 백업)
│   └── while-you-were-sleeping_backup/
│
├── package.json                     # Node.js 패키지 설정
├── package-lock.json
├── tsconfig.json                    # TypeScript 설정
├── tailwind.config.js               # Tailwind CSS 설정
├── postcss.config.js                # PostCSS 설정
├── next.config.js                   # Next.js 설정
├── next-env.d.ts                    # Next.js 타입 정의
│
├── README.md                        # 📖 프로젝트 README
├── 프로젝트_구조.md                 # 📋 이 파일
└── reorganize_project.bat           # 🔧 프로젝트 재구성 스크립트

```

---

## 📂 디렉토리 설명

### 📚 docs/ - 문서 모음

#### 01_기획/
프로젝트의 기획 단계 문서들이 저장됩니다.
- **서비스 기획서**: 전체 서비스 개요 및 목표
- **화제종목 선정 설계서**: 화제 종목 선정 알고리즘 상세
- **워크플로우 학습 정리**: 자동화 워크플로우 학습 자료

#### 02_개발가이드/
개발자를 위한 실행 및 개발 가이드
- **QUICK_START**: 5분 안에 시작하기
- **실행가이드**: 상세한 실행 방법
- **REST_API_명세서**: 전체 API 엔드포인트 문서

#### 03_설정및연동/
외부 서비스 및 환경 설정 문서
- **Claude Pro 인증**: Claude Code 설정
- **MCP 연동**: Claude Desktop MCP 서버 연동
- **project-rules**: 프로젝트 개발 규칙

#### 04_보고서/
테스트, 버그, 점검 관련 보고서
- 테스트 결과, 버그 리포트, 프로젝트 점검 등

---

### ⏰ 개발일지/ - 시간순 개발 기록

**구조**: `개발일지/{년도}/{월}/{일}/`

모든 개발 과정이 시간순으로 기록됩니다.

#### 작성 규칙
- 파일명: `YYYY-MM-DD_작업내용.md`
- 위치: `개발일지/YYYY/MM/DD/` 폴더 안
- 템플릿: `TEMPLATE_개발일지.md` 참고

#### 주요 마일스톤
- **2024-01-15**: 초기 개발 (API 통합, 대시보드)
- **2025-12-12**: UI 개선 (다크모드, 차트)
- **2025-12-15**: MCP 연동 시작
- **2025-12-16**: Exa MCP 완료
- **2025-12-17**: Claude Pro 전환, 버그 수정

---

### 🔧 backend/ - 백엔드 서버

**기술 스택**: Python 3.10+, FastAPI, APScheduler

#### 주요 모듈
- **main.py**: FastAPI 서버 엔트리포인트
- **scheduler.py**: 매일 오전 7시 자동 브리핑
- **daily_briefing_workflow.py**: 브리핑 생성 워크플로우

#### 데이터 수집
- **yfinance_stocks.py**: Yahoo Finance에서 주가 데이터
- **exa_news.py**: Exa API로 뉴스 검색

#### AI 생성
- **gemini_briefing.py**: Google Gemini로 브리핑 생성

#### MCP 서버
- **stocks_server.py**: 화제 종목 조회 (Yahoo Finance)
- **briefing_server.py**: AI 브리핑 생성 (Gemini + Exa)

---

### 🎨 Frontend - Next.js 애플리케이션

**기술 스택**: Next.js 13, React, TypeScript, Tailwind CSS

#### 페이지 구조
- **index.tsx**: 메인 대시보드 (화제 종목 TOP 10)
- **stocks/[symbol].tsx**: 종목 상세 (차트, 정보)
- **briefings/[id].tsx**: 브리핑 상세 보기

#### 주요 기능
- 📊 **실시간 주가 차트**: Recharts
- 🌓 **다크/라이트 모드**: ThemeContext
- 📈 **TOP3 비교**: TopStocksComparison

---

## 🔄 프로젝트 재구성

프로젝트 구조를 재정리하려면:

```batch
reorganize_project.bat
```

이 스크립트는 자동으로:
1. docs 폴더 구조 생성
2. 문서들을 카테고리별로 분류
3. 개발일지를 시간순으로 정리
4. 중복 폴더를 archive로 이동

---

## 📋 파일 찾기 가이드

### "어디서 시작하지?"
→ **`docs/02_개발가이드/QUICK_START.md`**

### "API가 어떻게 되어있지?"
→ **`docs/02_개발가이드/REST_API_명세서.md`**

### "이 기능은 어떻게 만들어졌지?"
→ **`개발일지/` 에서 날짜 찾기**

### "MCP 서버는 어떻게 설정하지?"
→ **`docs/03_설정및연동/MCP_연동_완료_보고서.md`**

### "버그 리스트는?"
→ **`docs/04_보고서/버그_리포트.md`**

### "테스트 결과는?"
→ **`docs/04_보고서/테스트_결과_보고서.md`**

---

## 🗂️ 아카이브 정책

### archive/ 폴더
- 중복된 폴더 백업
- 구버전 코드
- 삭제 예정이지만 보관 필요한 파일

**주의**: archive 폴더는 프로덕션 빌드에서 제외됩니다.

---

## 📌 프로젝트 관리 규칙

### 1. 개발일지 작성
- **언제**: 주요 기능 개발, 문제 해결, 기술적 결정 시
- **어디에**: `개발일지/YYYY/MM/DD/` 폴더
- **템플릿**: `TEMPLATE_개발일지.md` 사용

### 2. 문서 분류
- **기획 문서** → `docs/01_기획/`
- **개발 가이드** → `docs/02_개발가이드/`
- **설정 문서** → `docs/03_설정및연동/`
- **보고서** → `docs/04_보고서/`

### 3. 네이밍 규칙
- **개발일지**: `YYYY-MM-DD_작업내용.md`
- **문서**: `명확한_제목.md` (한글 가능)
- **코드**: snake_case (Python), camelCase (TypeScript)

---

## 🎯 주요 파일 위치 Quick Reference

| 찾고 싶은 것 | 파일 경로 |
|-------------|----------|
| **빠른 시작** | `docs/02_개발가이드/QUICK_START.md` |
| **API 명세** | `docs/02_개발가이드/REST_API_명세서.md` |
| **실행 방법** | `docs/02_개발가이드/실행가이드.md` |
| **MCP 설정** | `docs/03_설정및연동/MCP_연동_완료_보고서.md` |
| **Claude Pro** | `docs/03_설정및연동/Claude_Pro_인증_완료_보고서.md` |
| **테스트 결과** | `docs/04_보고서/테스트_결과_보고서.md` |
| **버그 목록** | `docs/04_보고서/버그_리포트.md` |
| **서비스 기획** | `docs/01_기획/서비스기획서_당신이잠든사이.md` |
| **화제종목 알고리즘** | `docs/01_기획/화제종목_선정_설계서.md` |
| **프로젝트 규칙** | `docs/03_설정및연동/project-rules.md` |

---

## 🔗 관련 문서

- [README.md](./README.md) - 프로젝트 소개
- [QUICK_START.md](./docs/02_개발가이드/QUICK_START.md) - 빠른 시작
- [REST_API_명세서.md](./docs/02_개발가이드/REST_API_명세서.md) - API 문서

---

**프로젝트명**: 당신이 잠든 사이  
**영문명**: While You Were Sleeping  
**목적**: 미국 주식 화제 종목 자동 브리핑 서비스  
**최종 업데이트**: 2025-12-17











